---
title: "Caso Aracuaí"
authors: 
- Helena Soares
- Cláudio Costa
---

## Quais os fluxos migratórios observados especificamente em Araçuaí?

\[Em elaboração - autores\]

## Estrutura demográfica

A estrutura demográfica de uma população e a sua taxa de crescimento revelam a sua tendência demográfica. A pirâmide populacional de Araçuaí apresenta a base reduzida, com predominância da fase jovem adulta. Isto indica uma baixa taxa de natalidade e o boom da força de trabalho nos próximos anos em função da concentração nas faixas etárias entre 10 a 19 anos. O pequeno alargamento da 'cintura' da pirâmide reitera a tendência de redução das taxas de fecundidade de forma mais breve, na geração seguinte.

```{r}
library(ggplot2)

# Dados da pirâmide etária
dados <- data.frame(
  Idade = c('0-4', '5-9', '10-14', '15-19', '20-24', '25-29', '30-34', '35-39',
            '40-44', '45-49', '50-54', '55-59', '60-64', '65-69', '70-74', 
            '80-84', '85-89', '90-94', '95-99', '100+'),
  Masculino = c(5.5, 6.2, 7.5, 7.7, 7.4, 6.9, 7.1, 7.5, 7.8, 6.8, 6.7, 6.0, 5.2, 3.7, 3.2, 2.1, 1.4, 0.9, 0.4, 0.2),
  Feminino = c(-5.7, -6.2, -6.5, -7.3, -7.4, -7.0, -7.2, -7.4, -7.1, -6.8, -5.9, -6.2, -5.2, -3.9, -3.1, -2.6, -2.1, -1.5, -0.6, -0.2)
)

# Cor para Masculino e Feminino
cores <- c('Masculino' = '#218fa7', 'Feminino' = '#ffb653')

# Criar o gráfico com rótulos de texto, excluindo o rótulo para '100+'
ggplot(dados) +
  geom_bar(aes(x = Idade, y = Masculino, fill = 'Masculino'), stat = 'identity') +
  geom_bar(aes(x = Idade, y = Feminino, fill = 'Feminino'), stat = 'identity') +
  geom_text(data = subset(dados, Idade != "100+"), aes(x = Idade, y = Masculino, label = Masculino), position = position_stack(vjust = 0.5), size = 2.5) +
  geom_text(data = subset(dados, Idade != "100+"), aes(x = Idade, y = Feminino, label = -Feminino), position = position_stack(vjust = 0.5), size = 2.8) +
  coord_flip() + # Virar o gráfico para ficar horizontal
  labs(x = "Idade", y = "Percentual (%)", fill = "Gênero") +
  theme_minimal() +
  scale_y_continuous(labels = abs) + # Corrigir os rótulos negativos
  scale_fill_manual(values = cores) # Usar cores definidas manualmente



```
